import { DataSource } from 'typeorm';
import { Meeting, ParticipationType, MeetingStatus } from '../../meetings/entities/meeting.entity';
import { v4 as uuidv4 } from 'uuid';

export const meetingSeeds = [
  {
    id: '550e8400-e29b-41d4-a716-446655440000',
    host_id: '550e8400-e29b-41d4-a716-446655440000',
    title: '해리포터와 마법사의 돌 함께 읽기',
    book_title: '해리포터와 마법사의 돌',
    date: new Date('2024-04-20'),
    time: '14:00',
    location: '서울 강남구 스타벅스 강남점',
    max_participants: 6,
    description: '해리포터 시리즈를 처음 읽는 분들과 함께 이야기 나누고 싶어요.',
    participation_type: ParticipationType.APPROVAL,
    status: MeetingStatus.ACTIVE,
  },
  {
    id: '550e8400-e29b-41d4-a716-446655440001',
    host_id: '550e8400-e29b-41d4-a716-446655440001',
    title: '아몬드 북클럽',
    book_title: '아몬드',
    date: new Date('2024-04-25'),
    time: '19:00',
    location: '서울 마포구 블루보틀 연남점',
    max_participants: 4,
    description: '손원평 작가의 아몬드를 읽고 감정에 대해 이야기해보아요.',
    participation_type: ParticipationType.INSTANT,
    status: MeetingStatus.ACTIVE,
  },
  {
    id: '550e8400-e29b-41d4-a716-446655440002',
    host_id: '550e8400-e29b-41d4-a716-446655440002',
    title: '이방인 읽기 모임',
    book_title: '이방인',
    date: new Date('2024-05-01'),
    time: '15:00',
    location: '서울 종로구 교보문고 광화문점 카페',
    max_participants: 8,
    description: '알베르 카뮈의 이방인을 통해 실존주의에 대해 토론해봐요.',
    participation_type: ParticipationType.APPROVAL,
    status: MeetingStatus.ACTIVE,
  },
  {
    id: '550e8400-e29b-41d4-a716-446655440003',
    host_id: '550e8400-e29b-41d4-a716-446655440003',
    title: '데미안 북토크',
    book_title: '데미안',
    date: new Date('2024-05-05'),
    time: '13:00',
    location: '서울 용산구 블루스퀘어 북파크',
    max_participants: 5,
    description: '헤르만 헤세의 데미안을 읽고 자아와 성장에 대해 이야기 나눠요.',
    participation_type: ParticipationType.INSTANT,
    status: MeetingStatus.ACTIVE,
  },
  {
    id: '550e8400-e29b-41d4-a716-446655440004',
    host_id: '550e8400-e29b-41d4-a716-446655440004',
    title: '사피엔스 스터디',
    book_title: '사피엔스',
    date: new Date('2024-05-10'),
    time: '18:30',
    location: '서울 서초구 카페 드롭탑 서초점',
    max_participants: 10,
    description: '유발 하라리의 사피엔스를 함께 읽고 인류의 역사에 대해 토론해요.',
    participation_type: ParticipationType.APPROVAL,
    status: MeetingStatus.ACTIVE,
  },
  {
    id: '550e8400-e29b-41d4-a716-446655440005',
    host_id: '550e8400-e29b-41d4-a716-446655440005',
    title: '82년생 김지영 함께 읽기',
    book_title: '82년생 김지영',
    date: new Date('2024-05-15'),
    time: '19:00',
    location: '서울 성동구 카페 루프탑',
    max_participants: 8,
    description: '조남주 작가의 82년생 김지영을 읽고 성평등에 대해 이야기 나눠요.',
    participation_type: ParticipationType.APPROVAL,
    status: MeetingStatus.ACTIVE,
  },
  {
    id: '550e8400-e29b-41d4-a716-446655440006',
    host_id: '550e8400-e29b-41d4-a716-446655440006',
    title: '코스모스 북클럽',
    book_title: '코스모스',
    date: new Date('2024-05-20'),
    time: '15:00',
    location: '서울 중구 스타벅스 명동점',
    max_participants: 6,
    description: '칼 세이건의 코스모스를 읽고 우주에 대해 이야기 나눠요.',
    participation_type: ParticipationType.INSTANT,
    status: MeetingStatus.ACTIVE,
  },
  {
    id: '550e8400-e29b-41d4-a716-446655440007',
    host_id: '550e8400-e29b-41d4-a716-446655440007',
    title: '작은 아씨들 북토크',
    book_title: '작은 아씨들',
    date: new Date('2024-05-25'),
    time: '14:00',
    location: '서울 용산구 이태원 카페',
    max_participants: 5,
    description: '루이자 메이 올콧의 작은 아씨들을 읽고 가족애에 대해 이야기 나눠요.',
    participation_type: ParticipationType.APPROVAL,
    status: MeetingStatus.ACTIVE,
  },
  {
    id: '550e8400-e29b-41d4-a716-446655440008',
    host_id: '550e8400-e29b-41d4-a716-446655440008',
    title: '동물농장 스터디',
    book_title: '동물농장',
    date: new Date('2024-05-30'),
    time: '16:00',
    location: '서울 광진구 카페',
    max_participants: 7,
    description: '조지 오웰의 동물농장을 읽고 정치와 권력에 대해 토론해요.',
    participation_type: ParticipationType.APPROVAL,
    status: MeetingStatus.ACTIVE,
  },
  {
    id: '550e8400-e29b-41d4-a716-446655440009',
    host_id: '550e8400-e29b-41d4-a716-446655440009',
    title: '노르웨이의 숲 북클럽',
    book_title: '노르웨이의 숲',
    date: new Date('2024-06-05'),
    time: '18:00',
    location: '서울 마포구 연남동 카페',
    max_participants: 6,
    description: '무라카미 하루키의 노르웨이의 숲을 읽고 청춘과 사랑에 대해 이야기 나눠요.',
    participation_type: ParticipationType.INSTANT,
    status: MeetingStatus.ACTIVE,
  }
];

export const seedMeetings = async (dataSource: DataSource) => {
  const meetingRepository = dataSource.getRepository(Meeting);
  
  for (const meetingData of meetingSeeds) {
    const meeting = meetingRepository.create(meetingData);
    await meetingRepository.save(meeting);
  }
}; 